import{j as v,r as s,a as L,R as O,b as _}from"./vendor.4329f9b1.js";const A=function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))u(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&u(r)}).observe(document,{childList:!0,subtree:!0});function p(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerpolicy&&(l.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?l.credentials="include":a.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(a){if(a.ep)return;a.ep=!0;const l=p(a);fetch(a.href,l)}};A();const t=v.exports.jsx,o=v.exports.jsxs;function P(){const[h,d]=s.exports.useState(null),[p,u]=s.exports.useState("truck"),[a,l]=s.exports.useState(null),[r,y]=s.exports.useState("2010-08-01T00:00:00"),[m,g]=s.exports.useState("2021-09-01T00:00:00"),[f,b]=s.exports.useState([]),[N,x]=s.exports.useState([]),[I,S]=s.exports.useState([]),j=async e=>{e.preventDefault(),await L.post("https://tolltax.xyz/demoapi/dashboard",{licence_plate:h,vehicle_type:p,vehicle_subtype:a,datefrom:r,dateto:m}).then(async function(n){b(n.data.data),await T(n),await C(n)}).catch(function(n){console.log(n)})},C=async e=>{const n=[];for(let i=0;i<e.data.data.length;i++)await fetch("https://tolltax.xyz/demoapi/get_videoclip",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({filepath:e.data.data[i].videoclip})}).then(c=>c.blob()).then(c=>{n.push(URL.createObjectURL(c))});S(n)},T=async e=>{const n=[];for(let i=0;i<e.data.data.length;i++)await fetch("https://tolltax.xyz/demoapi/get_file",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({filepath:e.data.data[i].image})}).then(c=>c.blob()).then(c=>{n.push(URL.createObjectURL(c))});x(n)};return o("div",{className:"App",children:[o("div",{className:"inputArea",children:[t("div",{className:"title",children:t("span",{children:"Toll Tax"})}),o("form",{className:"form",onSubmit:j,children:[o("div",{className:"inputs",children:[t("input",{type:"text",placeholder:"Licence Plate",onChange:e=>d(e.target.value),value:h}),t("input",{type:"text",placeholder:"Vehicle Type",onChange:e=>u(e.target.value),value:p}),t("input",{type:"text",placeholder:"Vehicle Subtype",onChange:e=>l(e.target.value),value:a}),t("input",{type:"text",placeholder:"Data From",onChange:e=>y(e.target.value),value:r}),t("input",{type:"text",placeholder:"Date To",onChange:e=>g(e.target.value),value:m})]}),t("input",{className:"submitBtn",type:"submit",value:"Submit"})]})]}),t("div",{className:"data",children:f&&f.map((e,n)=>o("div",{className:"dataItem",children:[o("div",{className:"dataItemTitle",children:["Vehicle Number: ",t("span",{children:n+1})]}),o("div",{className:"dataItemImage",children:["Image",t("img",{src:N[n],alt:"truck"})]}),o("div",{className:"dataItemContent",children:[o("div",{className:"dataItemContentItem",children:["License Plate No.:",t("span",{children:e.licence_plate})]}),o("div",{className:"dataItemContentItem",children:["Vehicle Type:",t("span",{children:e.vehicle_type})]}),o("div",{className:"dataItemContentItem",children:["Vehicle Subtype:",t("span",{children:e.vehicle_subtype?e.vehicle_subtype:"Not Available"})]}),o("div",{className:"dataItemContentItem",children:["Lane No.:",t("span",{children:e.lane_no?e.lane_no:"Not Available"})]}),o("div",{className:"dataItemContentItem",children:["Job ID:",t("span",{children:e.jobid?e.jobid:"Not Available"})]}),o("div",{className:"dataItemContentItem",children:["Time:",t("span",{children:e.time})]}),o("div",{className:"dataItemContentItem",children:["Video",t("video",{src:I[n],autoPlay:!0,muted:!0,loop:!0})]})]})]},n))})]})}O.render(t(_.StrictMode,{children:t(P,{})}),document.getElementById("root"));
